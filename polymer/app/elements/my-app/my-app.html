<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="my-app" attributes="">
  <template>
    <div>
      <p><smart-button 
        activate="{{ hello }}"
        label="Successful Button" 
        active-label="Processing..." 
        allow-retry 
        complete-label="All Set!" 
        failure-label="Oh No!" /></p>
      <p><smart-button 
        activate="{{ world }}" 
        label="Failing Button" 
        active-label="Processing..." 
        allow-retry 
        complete-label="All Set!" 
        failure-label="Oh No! Try Again." /></p>
    </div>
  </template>
  <script>
    (function () {
      'use strict';

      var delay = function(ms) {
        var deferred = Q.defer();
        setTimeout(deferred.resolve, ms);
        return deferred.promise;
      }

      var fail = function(ms) {
        var deferred = Q.defer();
        setTimeout(deferred.reject, ms);
        return deferred.promise;
      }

      Polymer({

        hello : function(){
          return delay(1000);
        },

        world : function(){
          return fail(1000);
        }

      });

    })();
  </script>
</polymer-element>
